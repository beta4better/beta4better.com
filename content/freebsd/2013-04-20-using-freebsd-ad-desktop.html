---
title: 使用 FreeBSD 作为桌面操作系统
date: 2013-04-16 15:45:00
slug: using-freebsd-as-desktop
---
经过最近这几天接连不断的折腾，对于 FreeBSD 的了解比之前仔细了很多。
然后心中就不自然的有了这么一种想法：
会不会是我自己在给自己找罪受，FreeBSD 做桌面系统真的还是挺费劲，折腾起来也很是麻烦。

FreeBSD 现在的状态，我个人感觉跟 Linux 之前很像。因为现在用的人少，很多驱动之类的现在跟不上。
这里最典型的应该就是 Intel 显卡的驱动了。
在9.1之前 WITH_NEW_ORG 和 WITH_KMS 还没有进入内核的默认选项，如果你要用 `xf86-video-intel` 这个驱动就必须要重新编译内核，不过好在现在9.1和 STABLE 版已经默认开了这个参数。

这里你可能会问，为什么要重新编译内核？除非你能够忍受使用 VESA 的默认驱动带来的显示效果。反正我是觉得很不舒服。

再一个，从现在网络上的消息来看 pkgng 肯定是未来的趋势了，但是却没有相应的源。
官方的 [pkgbeta.freebsd.org](http://pkgbeta.freebsd.org) 只有一个 pkg 的包。
不过好在 PCBSD 已经放出了[一个源](ftp://ftp.pcbsd.org/pub/mirror/packages/9.1-RELEASE/amd64/)。
但是速度不是很快，我这里有线电视的网络介入，下载速度只有10K-20K左右。
一开放的时候有个[日本节点](ftp://pub.allbsd.org/pub/pcbsd/packages/9.1-RELEASE/amd64/)速度不错，
不过这两天也慢了下来，而且镜像站的MD5校验往往会有问题，更新没有那么及时。

写到这里，之前没有接触过 pkgng 的可能会问要怎么用，需要把下面这个配置写到 `/usr/local/etc/pkg.conf` 中。

    packagesite: ftp://ftp.pcbsd.org/pub/mirror/packages/9.1-RELEASE/amd64/

或者是在 bash 中使用 export 命令： 
`export PACKAGESITE=ftp://ftp.pcbsd.org/pub/mirror/packages/9.1-RELEASE/amd64/`，这样也可以。
如果是 csh 的话，把 export 换成 setenv。

之所有官方没有放出 pkg 的源，从网络上看到的消息似乎是之前可用的时候出现过问题，然后就暂停了。

再说说 pkg_XXX 这种方式，这是 pkg 出现前二进制软件的安装方式，不过9.1 release 后却一直没有对应的源，只能用 stable 的源。
不过这样需要单独设置一个变量 `PACKAGESITE` 为 `ftp://ftp.freebsd.org/pub/FreeBSD/ports/amd64/packages-9-stable/Latest/`。
网络上很多人都说这样可以，不过我个人用的时候还是经常遇到部分包找不到的情况
。直接升级成 STABLE 就不会有问题了。升级后就会直接用这个变量了 `PACKAGEROOT`，
默认是这里 `PACKAGEROOT ftp://ftp.jp.freebsd.org`。

注意：pkg 和 pkg_XXX 共用同一个变量 `PACKAGESITE`，这个在经过了很长的迷茫之后才认识到。

不过近期的一个好消息是9.1的 package 已经在官方的 FTP 上看到了，虽然还没有得到官方的正式通知。

罗嗦了这么多，其实 FreeBSD 有两种软件安装方式，一种是 package，另一种是 ports。
两种我也都用过，不过总感觉自己用 ports 编译安装的软件和 package 的方式有差异。
因此这次在笔记本上就用了 package 的方式。一是刚才提到的愿意，另一个还是因为笔记本的CPU是低电压版的，
编译效率有限。相比满屏哗哗的字符等待，时间是更加重要的。

先罗嗦这么多，不过今天感觉，用了 package 之后电脑的温度和风扇的声音都有些异样。
