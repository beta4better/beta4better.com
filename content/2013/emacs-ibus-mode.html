---
title: emacs 下使用 ibus 输入中文的方法
date: 2013-04-07 10:36:20
slug: emacs-ibus-mode
---
使用 ibus 作为中文输入法，而编辑器正好时 emacs 的话可能就会遇到这样的问题，
按 Ctrl+Space 切换不出中文输入法来，会出现 `Mark Set` 这样的提示,
那么下面的方法可能会派上用场。

1. 安装 ibus-el
    portmaster textporc/ibus-el

如果使用的时 Debian 或者 Ubuntu 系统的话，请执行 `sudo apt-get install ibus-el`。

2. 在 .emacs 文件中加入下面两行配置

    (require 'ibus)
    (add-hook 'after-init-hook 'ibus-mode-on)

具体的解释请参照这里：[http://www.emacswiki.org/emacs/IBusMode](http://www.emacswiki.org/emacs/IBusMode)


如果还涉及到中文 locale 以及英文 locale 的问题的话，
可以考虑在 .emacs 文件中多增加下面这几行：

    (set-language-environment 'utf-8)
    (set-keyboard-coding-system 'utf-8)
    (set-clipboard-coding-system 'euc-cn)
    (set-terminal-coding-system 'utf-8)
    (set-buffer-file-coding-system 'euc-cn)
    (set-selection-coding-system 'euc-cn)
    (modify-coding-system-alist 'process "*" 'utf-8)
    (setq default-process-coding-system '(euc-cn . euc-cn))
    (setq-default pathname-coding-system 'utf-8)
